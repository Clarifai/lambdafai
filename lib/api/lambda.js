var utils = require('../utils');

var Lambda = function(app, opts) {
  utils.checkIdentifier(opts.name, 'lambda name');
  this.config = {
    name: opts.name,
    source: opts.source,
    description: opts.description || (opts.name + ' (generated by Lambdafai)'),
    ram: opts.ram || 128,
    timeout: opts.timeout || 10,
    routes: [],
  };
};

Lambda.prototype.get = function(path, handler) {
  this.config.routes.push({method: 'GET', path: path, handler: handler });
}

Lambda.prototype.post = function(path, handler) {
  this.config.routes.push({method: 'POST', path: path, handler: handler });
}

Lambda.prototype.put = function(path, handler) {
  this.config.routes.push({method: 'PUT', path: path, handler: handler });
}

Lambda.prototype.head = function(path, handler) {
  this.config.routes.push({method: 'HEAD', path: path, handler: handler });
}

Lambda.prototype.delete = function(path, handler) {
  this.config.routes.push({method: 'DELETE', path: path, handler: handler });
}

Lambda.prototype.options = function(path, handler) {
  this.config.routes.push({method: 'OPTIONS', path: path, handler: handler });
}

module.exports = Lambda;
